import {
  AfterViewInit,
  Component,
  ComponentFactory,
  ComponentFactoryResolver, ComponentRef,
  ViewChild,
  ViewContainerRef
} from '@angular/core';
import {RaDesignToolsService} from './ra-design-tools.service';
import {NzIconService} from 'ng-zorro-antd';

const RaDesignIconPageLiteral = '<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1127" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M234.666667 298.666667c-12.8 0-21.333333 8.533333-21.333333 21.333333 0 12.8 8.533333 21.333333 21.333333 21.333333 12.8 0 21.333333-8.533333 21.333333-21.333333C256 307.2 247.466667 298.666667 234.666667 298.666667zM149.333333 298.666667c-12.8 0-21.333333 8.533333-21.333333 21.333333 0 12.8 8.533333 21.333333 21.333333 21.333333 12.8 0 21.333333-8.533333 21.333333-21.333333C170.666667 307.2 162.133333 298.666667 149.333333 298.666667zM704 298.666667 405.333333 298.666667c-12.8 0-21.333333 8.533333-21.333333 21.333333 0 12.8 8.533333 21.333333 21.333333 21.333333l298.666667 0c12.8 0 21.333333-8.533333 21.333333-21.333333C725.333333 307.2 716.8 298.666667 704 298.666667zM896 42.666667 298.666667 42.666667c-46.933333 0-85.333333 38.4-85.333333 85.333333l0 21.333333c0 12.8 8.533333 21.333333 21.333333 21.333333 12.8 0 21.333333-8.533333 21.333333-21.333333L256 128c0-23.466667 19.2-42.666667 42.666667-42.666667l597.333333 0c23.466667 0 42.666667 19.2 42.666667 42.666667l0 597.333333c0 23.466667-19.2 42.666667-42.666667 42.666667l-21.333333 0c-12.8 0-21.333333 8.533333-21.333333 21.333333s8.533333 21.333333 21.333333 21.333333l21.333333 0c46.933333 0 85.333333-38.4 85.333333-85.333333L981.333333 128C981.333333 81.066667 942.933333 42.666667 896 42.666667zM320 298.666667c-12.8 0-21.333333 8.533333-21.333333 21.333333 0 12.8 8.533333 21.333333 21.333333 21.333333 12.8 0 21.333333-8.533333 21.333333-21.333333C341.333333 307.2 332.8 298.666667 320 298.666667zM725.333333 213.333333 128 213.333333c-46.933333 0-85.333333 38.4-85.333333 85.333333l0 597.333333c0 46.933333 38.4 85.333333 85.333333 85.333333l597.333333 0c46.933333 0 85.333333-38.4 85.333333-85.333333L810.666667 298.666667C810.666667 251.733333 772.266667 213.333333 725.333333 213.333333zM768 896c0 23.466667-19.2 42.666667-42.666667 42.666667L128 938.666667c-23.466667 0-42.666667-19.2-42.666667-42.666667L85.333333 426.666667l682.666667 0L768 896zM768 384 85.333333 384l0-85.333333c0-23.466667 19.2-42.666667 42.666667-42.666667l597.333333 0c23.466667 0 42.666667 19.2 42.666667 42.666667L768 384z"></path></svg>'
const RaDesignIconComponentLiteral = '<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1127" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M826.56 470.016c-32.896 0-64.384 12.288-89.984 35.52l0-104.96c0-62.208-50.496-112.832-112.64-113.088L623.936 287.04 519.552 287.104C541.824 262.72 554.56 230.72 554.56 197.12c0-73.536-59.904-133.44-133.504-133.44-73.472 0-133.376 59.904-133.376 133.44 0 32.896 12.224 64.256 35.52 89.984L175.232 287.104l0 0.576C113.728 288.704 64 338.88 64 400.576l0.32 0 0.32 116.48C60.864 544.896 70.592 577.728 100.8 588.48c12.736 4.608 37.632 7.488 60.864-25.28 12.992-18.368 34.24-29.248 56.64-29.248 38.336 0 69.504 31.104 69.504 69.312 0 38.4-31.168 69.504-69.504 69.504-22.656 0-44.032-11.264-57.344-30.4C138.688 610.112 112.576 615.36 102.464 619.136c-29.824 10.752-39.104 43.776-38.144 67.392l0 160.384L64 846.912C64 909.248 114.752 960 177.216 960l446.272 0c62.4 0 113.152-50.752 113.152-113.152l0-145.024c24.384 22.272 56.384 35.008 89.984 35.008 73.536 0 133.44-59.904 133.44-133.504C960 529.92 900.096 470.016 826.56 470.016zM826.56 672.896c-22.72 0-44.032-11.264-57.344-30.4-22.272-32.384-48.448-27.136-58.56-23.36-29.824 10.752-39.04 43.776-38.08 67.392l0 160.384c0 27.136-22.016 49.152-49.152 49.152L177.216 896.064C150.08 896 128 873.984 128 846.848l0.32 0 0-145.024c24.384 22.272 56.384 35.008 89.984 35.008 73.6 0 133.504-59.904 133.504-133.504 0-73.472-59.904-133.376-133.504-133.376-32.896 0-64.32 12.288-89.984 35.52l0-104.96L128 400.512c0-27.072 22.08-49.152 49.216-49.152L177.216 351.04 334.656 350.72c3.776 0.512 7.616 0.832 11.52 0.832 24.896 0 50.752-10.816 60.032-37.056 4.544-12.736 7.424-37.568-25.344-60.736C362.624 240.768 351.68 219.52 351.68 197.12c0-38.272 31.104-69.44 69.376-69.44 38.336 0 69.504 31.168 69.504 69.44 0 22.72-11.264 44.032-30.528 57.472C427.968 276.736 433.088 302.784 436.8 313.024c10.752 29.888 43.072 39.232 67.392 38.08l119.232 0 0 0.384c27.136 0 49.152 22.08 49.152 49.152l0.256 116.48c-3.776 27.84 6.016 60.736 36.224 71.488 12.736 4.608 37.632 7.488 60.8-25.28 13.056-18.368 34.24-29.248 56.704-29.248C864.832 534.016 896 565.12 896 603.392 896 641.728 864.832 672.896 826.56 672.896z"></path></svg>'
const RaDesignIconFolderLiteral = '<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1127" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M426.666667 170.666667 170.666667 170.666667C123.306667 170.666667 85.333333 208.64 85.333333 256L85.333333 768C85.333333 814.933333 123.733333 853.333333 170.666667 853.333333L853.333333 853.333333C900.266667 853.333333 938.666667 814.933333 938.666667 768L938.666667 341.333333C938.666667 293.973333 900.266667 256 853.333333 256L512 256 426.666667 170.666667Z"></path></svg>'
const RaDesignIconRouteLiteral = '<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1127" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M334.08 213.333333H725.333333a42.666667 42.666667 0 0 1 42.666667 42.666667v256a42.666667 42.666667 0 0 1-42.666667 42.666667H341.333333v170.666666h341.333334a42.666667 42.666667 0 0 1 0 85.333334H298.666667a42.666667 42.666667 0 0 1-42.666667-42.666667v-256a42.666667 42.666667 0 0 1 42.666667-42.666667h384V298.666667H334.08a128.042667 128.042667 0 1 1 0-85.333334zM213.333333 298.666667a42.666667 42.666667 0 1 0 0-85.333334 42.666667 42.666667 0 0 0 0 85.333334z m567.168 414.165333a42.666667 42.666667 0 0 1 60.330667-60.330667l85.333333 85.333334a42.666667 42.666667 0 0 1 0 60.330666l-85.333333 85.333334a42.666667 42.666667 0 0 1-60.330667-60.330667L835.669333 768l-55.168-55.168z"></path></svg>'
const RaDesignIconServerLiteral = '<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1127" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M180.05333333 70.61333333h664c30.50666667 0 55.36 24.74666667 55.36 55.36v110.61333334c0 30.50666667-24.74666667 55.36-55.36 55.36H180.05333333c-30.50666667 0-55.36-24.74666667-55.36-55.36V125.97333333c0-30.50666667 24.74666667-55.36 55.36-55.36z m129.06666667 55.36c-30.50666667 0-55.36 24.74666667-55.36 55.36s24.74666667 55.36 55.36 55.36c30.50666667 0 55.36-24.74666667 55.36-55.36s-24.85333333-55.36-55.36-55.36z m-129.06666667 276.69333334h664c30.50666667 0 55.36 24.74666667 55.36 55.36v110.61333333c0 30.50666667-24.74666667 55.36-55.36 55.36H180.05333333c-30.50666667 0-55.36-24.74666667-55.36-55.36V457.92c0-30.50666667 24.74666667-55.25333333 55.36-55.25333333z m129.06666667 55.25333333c-30.50666667 0-55.36 24.74666667-55.36 55.36 0 30.50666667 24.74666667 55.36 55.36 55.36 30.50666667 0 55.36-24.74666667 55.36-55.36 0-30.50666667-24.85333333-55.36-55.36-55.36z m-129.06666667 276.69333333h664c30.50666667 0 55.36 24.74666667 55.36 55.36v110.61333334c0 30.50666667-24.74666667 55.36-55.36 55.36H180.05333333c-30.50666667 0-55.36-24.74666667-55.36-55.36V789.97333333c0-30.61333333 24.74666667-55.36 55.36-55.36z m129.06666667 55.36c-30.50666667 0-55.36 24.74666667-55.36 55.36 0 30.50666667 24.74666667 55.36 55.36 55.36 30.50666667 0 55.36-24.74666667 55.36-55.36s-24.85333333-55.36-55.36-55.36z"></path></svg>'

@Component({
  selector: 'ra-design-tools',
  templateUrl: './ra-design-tools.component.html',
  styles: []
})
export class RaDesignToolsComponent implements AfterViewInit {
  // private componentRefList: Map<>;
  @ViewChild('left', {read: ViewContainerRef}) left: ViewContainerRef;

  constructor(public ComponentFactoryResolver: ComponentFactoryResolver,
              public NzIconService: NzIconService,
              public RaDesignToolsService: RaDesignToolsService) {
    this.RaDesignToolsService.init(this);
    this.NzIconService.addIconLiteral('rabbit-design:icon-page', RaDesignIconPageLiteral);
    this.NzIconService.addIconLiteral('rabbit-design:icon-component', RaDesignIconComponentLiteral);
    this.NzIconService.addIconLiteral('rabbit-design:icon-folder', RaDesignIconFolderLiteral);
    this.NzIconService.addIconLiteral('rabbit-design:icon-route', RaDesignIconRouteLiteral);
    this.NzIconService.addIconLiteral('rabbit-design:icon-server', RaDesignIconServerLiteral);
  }

  ngAfterViewInit() {
  }

  showTools(componentFactory: ComponentFactory<any>) {
    // this.componentRefList.push()
    this.left.clear();
    this.left.createComponent(componentFactory);
  }
}
